/* (Old reset removed; new theme reset defined below) */
/* ===== Reset & Theme ===== */
* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
  line-height: 1.6;
  color: #1f2937; /* gray-800 */
  background: var(--body-bg); /* gray-50 */
  transition: background-color 0.3s ease, color 0.3s ease;
}

:root{
  --primary:#0ea5e9; /* sky-500 */
  --primary-600:#0284c7;
  --text:#1f2937;
  --muted:#6b7280;
  --surface:#ffffff;
  --border:#e5e7eb;
  --body-bg:#f8fafc;
  --sidebar-bg:#e0e0e4;
  --sidebar-border:#cbd5e1;
  --header-offset: 0px;
}

body.dark-mode {
  --text:#e2e8f0;
  --muted:#94a3b8;
  --surface:#1e293b;
  --border:#334155;
  --body-bg:#0f172a;
  --sidebar-bg:#1e293b;
  --sidebar-border:#334155;
}

body.dark-mode {
  color: var(--text);
}

body.dark-mode .timeline::before {
  background: #334155;
}

body.dark-mode .timeline-dot {
  background: #475569;
  border-color: #1e293b;
  box-shadow: 0 0 0 1px #475569;
}

body.dark-mode .timeline-item.in-view .timeline-dot {
  background: var(--primary);
  border-color: #1e293b;
}

/* Readable link styling in content (light + dark) */
.section a,
.timeline-content a{
  color: var(--primary-600);
  text-decoration: underline;
  text-underline-offset: 2px;
}
.section a:hover,
.timeline-content a:hover{
  color: var(--primary);
}

body.dark-mode .section a,
body.dark-mode .timeline-content a{
  color: var(--primary);
}
body.dark-mode .section a:hover,
body.dark-mode .timeline-content a:hover{
  color: #7dd3fc; /* sky-300 for extra contrast on hover */
}

body.dark-mode .chip-list li {
  background: #334155;
  border-color: #475569;
  color: #e2e8f0;
}

body.dark-mode .chip-list li:hover {
  background: var(--primary);
  color: #ffffff;
}

body.dark-mode .edu-item,
body.dark-mode .timeline-content {
  background: var(--surface);
  border-color: var(--border);
}

body.dark-mode h1, 
body.dark-mode h2, 
body.dark-mode h3,
body.dark-mode h4,
body.dark-mode h5 {
  color: #f1f5f9;
}

body.dark-mode .timeline-content li,
body.dark-mode .contact-item,
body.dark-mode p {
  color: #cbd5e1;
}

/* ===== Layout ===== */
.layout{
  min-height:100vh;
  width: 100%;
  overflow-x: hidden;
}

.sidebar{
  position: fixed;
  top: 0;
  left: 0;
  width: 280px;
  height: 100vh;
  display:flex;
  flex-direction:column;
  justify-content: space-between;
  padding: 32px 28px;
  background: var(--sidebar-bg); /* much lighter than body */
  border-right: 2px solid var(--sidebar-border); /* more contrast */
  box-shadow: 2px 0 8px 0 rgba(0,0,0,0.03);
  overflow-y: auto;
  transition: background-color 0.3s ease, border-color 0.3s ease;
  z-index: 100;
}

.brand{ display:flex; flex-direction:column; align-items:center; gap:10px; }
.profile-info{ display:flex; flex-direction:column; align-items:center; }
.profile-info h1{ font-size: 1.25rem; margin:0; }
.profile-info p{ margin:0; color: var(--muted); font-size: .95rem; }
.contact-list{ margin-top:8px; display:flex; flex-direction:column; gap:2px; align-items:center; }
.contact-item{ color: var(--muted); font-size:.97rem; display:flex; align-items:center; gap:6px; }
.contact-item a{ color: var(--muted); text-decoration:none; }
.contact-item a:hover{ color: var(--primary-600); text-decoration:underline; }
.avatar{ width:42px; height:42px; border-radius:50%; border:1px solid var(--border); object-fit:cover; }

.avatar-block { display: flex; flex-direction: column; align-items: center; }
.avatar-block .avatar { 
  width: 156px; 
  height: 156px; 
  margin-bottom: 4px; 
  border: 2px solid rgba(14, 165, 233, 0.12);
  box-shadow: 
    0 0 0 1px rgba(14, 165, 233, 0.08),
    inset 0 2px 4px rgba(255, 255, 255, 0.1),
    inset 0 -2px 8px rgba(0, 0, 0, 0.15),
    0 8px 16px -4px rgba(0, 0, 0, 0.2),
    0 16px 32px -8px rgba(0, 0, 0, 0.15);
  transition: all 0.3s ease;
  filter: brightness(1.02) contrast(1.08) drop-shadow(0 4px 8px rgba(0, 0, 0, 0.25));
}
.avatar-block .avatar:hover {
  border-color: rgba(14, 165, 233, 0.25);
  box-shadow: 
    0 0 0 1px rgba(14, 165, 233, 0.15),
    inset 0 2px 6px rgba(255, 255, 255, 0.15),
    inset 0 -2px 10px rgba(0, 0, 0, 0.2),
    0 10px 20px -4px rgba(0, 0, 0, 0.25),
    0 20px 40px -8px rgba(0, 0, 0, 0.2);
  transform: scale(1.02) translateY(-2px);
  filter: brightness(1.05) contrast(1.1) drop-shadow(0 6px 12px rgba(0, 0, 0, 0.3));
}
.avatar-caption { font-size: .8rem; color: var(--muted); text-align: center; margin-bottom: 6px; }

/* 3D Avatar wrapper for extra depth and optional tilt */
.avatar-3d-wrapper { perspective: 800px; }
.avatar-stage {
  position: relative;
  display: inline-block;
  border-radius: 50%;
  transform-style: preserve-3d;
  will-change: transform;
}
.avatar-enhanced { display:block; border-radius: 50%; }
.avatar-rim {
  content: "";
  position: absolute;
  inset: -6px;
  border-radius: 50%;
  background: radial-gradient(ellipse at center, rgba(14,165,233,0.10), rgba(14,165,233,0) 60%);
  pointer-events: none;
  filter: blur(0.3px);
}

/* optional subtle parallax on hover (no JS required) */
.avatar-stage:hover {
  transform: rotateX(6deg) rotateY(-6deg) translateZ(8px);
  transition: transform 200ms ease;
}

.side-nav{ display:flex; flex-direction:column; gap:4px; margin-top: 8px; }
.side-nav .nav-link{
  text-decoration:none;
  color: var(--text);
  padding: 8px 0;
  transition: color .2s;
}
.side-nav .nav-link:hover{ background: transparent; color: var(--primary-600); }
.side-nav .nav-link.active{
  color: var(--primary-600);
  background: transparent;
  text-decoration: underline;
  text-underline-offset: 4px;
}

/* Dark Mode Toggle */
.dark-mode-toggle {
  position: fixed;
  top: 20px;
  right: 20px;
  background: var(--surface);
  border: 2px solid var(--border);
  color: var(--text);
  width: 45px;
  height: 45px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 0.3s ease;
  font-size: 1.2rem;
  z-index: 1000;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.dark-mode-toggle:hover {
  background: var(--primary);
  color: white;
  border-color: var(--primary);
  transform: rotate(20deg) scale(1.1);
  box-shadow: 0 4px 12px rgba(14, 165, 233, 0.3);
}

body.dark-mode .dark-mode-toggle {
  background: var(--surface);
  box-shadow: 0 2px 8px rgba(0,0,0,0.3);
}

body.dark-mode .dark-mode-toggle i::before {
  content: "\f185"; /* sun icon */
}

.side-social{ display:flex; gap:10px; font-size:1.25rem; }
.side-social a{ color: var(--muted); }
.side-social a:hover{ color: var(--primary-600); }
.side-social a.resume-icon{ position:relative; }
.side-social a.resume-icon::after{
  content:"Resume";
  position:absolute;
  left:50%; top:100%;
  transform:translateX(-50%); 
  background: var(--surface);
  color: var(--text);
  font-size:0.65rem;
  padding:3px 6px;
  border:1px solid var(--border);
  border-radius:4px;
  white-space:nowrap;
  opacity:0; pointer-events:none;
  transition: opacity .18s ease, transform .18s ease;
  box-shadow:0 2px 4px rgba(0,0,0,0.08);
  z-index:30;
}
.side-social a.resume-icon:hover::after{
  opacity:1; transform:translateX(-50%) translateY(4px);
}

.resume-download{ margin-top: 12px; }
.sidebar .btn{ display:block; text-align:center; }

.content{
  margin-left: 280px;
  padding: 56px 7vw 56px 7vw;
  scroll-margin-top: var(--header-offset);
}

.section{ 
  max-width: 900px; 
  margin: 0 auto 72px; 
  padding-top: 8px;
  scroll-margin-top: var(--header-offset);
}
.section h2{ font-size: 1.75rem; margin-bottom: 16px; color: #0f172a; }
.section p{ color: var(--text); }

/* Timeline Styles */
.timeline {
  position: relative;
  padding-right: 0;
  padding-left: 0;
  margin-top: 20px;
  max-width: 100%;
}

/* Continuous vertical line for entire timeline */
.timeline::before {
  content: '';
  position: absolute;
  right: 25px;
  top: 0;
  bottom: 0;
  width: 3px;
  background: #e2e8f0;
  z-index: 0;
}

.timeline-item {
  position: relative;
  padding-right: 60px;
  padding-bottom: 0;
  margin-bottom: 24px;
  transition: opacity 0.3s ease, transform 0.3s ease;
  opacity: 0.6;
  display: flex;
  gap: 0;
  align-items: flex-start;
  z-index: 1;
}

.timeline-item.in-view {
  opacity: 1;
}

.timeline-item:last-child {
  margin-bottom: 0;
}

.timeline-marker {
  position: absolute;
  right: 10px;
  top: 50%;
  transform: translateY(-50%);
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
  z-index: 2;
}

.timeline-dot {
  width: 12px;
  height: 12px;
  border-radius: 50%;
  background: #cbd5e1;
  border: 3px solid #f8fafc;
  box-shadow: 0 0 0 1px #cbd5e1;
  transition: all 0.3s ease;
  flex-shrink: 0;
  display: block;
}

.timeline-item.in-view .timeline-dot {
  background: var(--primary);
  box-shadow: 0 0 0 3px rgba(14, 165, 233, 0.2);
  border-color: #f8fafc;
  width: 14px;
  height: 14px;
}

.timeline-date {
  font-size: 0.75rem;
  font-weight: 600;
  color: var(--muted);
  text-align: center;
  line-height: 1.2;
  writing-mode: vertical-rl;
  text-orientation: mixed;
  transform: rotate(180deg);
  white-space: nowrap;
  transition: color 0.3s ease;
  position: absolute;
  right: -8px;
  top: 50%;
  transform: translateY(-50%) rotate(180deg);
}

.timeline-item.in-view .timeline-date {
  color: var(--primary-600);
  font-weight: 700;
}

.timeline-content {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 24px 28px;
  box-shadow: 0 2px 4px rgba(0,0,0,0.04);
  transition: all 0.3s ease;
  width: 100%;
  flex: 1;
  margin-right: 60px;
}

.timeline-item.in-view .timeline-content {
  box-shadow: 0 6px 16px rgba(14,165,233,0.12);
  border-color: var(--primary);
  transform: translateX(-4px);
}

.timeline-content h3 {
  margin: 0 0 6px 0;
  font-size: 1.2rem;
  color: #0f172a;
  font-weight: 700;
  line-height: 1.3;
}

.timeline-content .company {
  margin: 0 0 16px 0;
  font-size: 1rem;
  color: var(--primary-600);
  font-weight: 600;
}

.timeline-content .project-section {
  margin-bottom: 18px;
}

.timeline-content .project-section:last-child {
  margin-bottom: 0;
}

.timeline-content h5 {
  margin: 0 0 10px 0;
  font-size: 0.95rem;
  color: #334155;
  font-weight: 600;
}

.timeline-content ul {
  margin: 0 0 0 20px;
  padding: 0;
}

.timeline-content li {
  color: #64748b;
  margin-bottom: 6px;
  line-height: 1.6;
  font-size: 0.9rem;
}

/* Experience - Remove old styles */
.exp-item {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 10px;
  padding: 20px 20px 6px;
  margin-bottom: 18px;
  box-shadow: 0 1px 2px rgba(0,0,0,.03);
}
.exp-item header { display:flex; align-items:baseline; justify-content:space-between; gap:16px; flex-wrap:wrap; }
.exp-item h3 { margin: 0; font-size: 1.05rem; }
.exp-item .duration { color: var(--muted); font-size: .95rem; }
.exp-item h4 { margin: 14px 0 6px; font-size: 1rem; color:#0f172a; }
.exp-item ul { margin: 0 0 14px 20px; }
.exp-item li { color: #374151; margin-bottom: 6px; }

/* Education */
.edu-item{ 
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 10px;
  padding: 16px 20px;
  margin-bottom: 12px;
}
.edu-item h3{ margin: 0 0 6px; font-size: 1.05rem; }
.edu-item .duration{ color: var(--muted); font-size:.95rem; }

/* Skills */
.chip-list{ list-style:none; display:flex; flex-wrap:wrap; gap:10px; padding:0; }
.chip-list li{ 
  background:#f1f5f9; 
  border:1px solid var(--border); 
  color:#0f172a; 
  padding:6px 10px; 
  border-radius: 999px; 
  font-size:.9rem;
  transition: all 0.3s ease;
  cursor: pointer;
}
.chip-list li:hover {
  background: var(--primary);
  color: #ffffff;
  border-color: var(--primary);
  transform: translateY(-2px);
  box-shadow: 0 4px 8px rgba(14, 165, 233, 0.3);
}

/* Footer */
.footer{ color: var(--muted); padding: 28px 0 40px; text-align:center; }

/* Utilities */
.btn{ 
  display:inline-block; 
  padding:9px 16px; 
  background: transparent;
  color: var(--muted);
  border: 1px solid var(--border);
  border-radius: 6px;
  text-decoration: none;
  font-size: 0.875rem;
  font-weight: 500;
  transition: all 0.2s ease;
}
.btn:hover{ 
  background: var(--surface-hover);
  border-color: var(--primary);
  color: var(--primary);
}

/* ===== Responsive ===== */
@media (max-width: 1024px){
  .layout{ 
    grid-template-columns: 240px 1fr;
  }
  
  .content {
    padding: 40px 5vw;
  }
}

@media (max-width: 980px){
  /* Convert desktop fixed left sidebar to top bar */
  .layout{ display:block; }
  .sidebar{
    position: fixed;
    top:0; left:0; right:0;
    width:100%;
    height:auto; min-height:0;
    border-right:none;
    border-bottom:1px solid var(--border);
    display:flex; flex-wrap:wrap; align-items:center;
    gap:10px; padding:10px 14px;
    z-index:160; box-shadow:0 2px 8px rgba(0,0,0,0.06);
    background: var(--sidebar-bg);
  }
  /* Increase offset so #about never hides under fixed header */
  .content{
    margin-left:0;
    padding-top: calc(var(--header-offset) + 16px);
    padding-right: 6vw;
    padding-left: 6vw;
    padding-bottom: 48px;
  }
  
  .brand { flex-direction:row; align-items:center; gap:12px; flex:1 1 auto; }
  
  .avatar-block .avatar { width:60px; height:60px; }
  
  .profile-info {
    align-items: flex-start;
  }
  
  .profile-info h1 { font-size:1.04rem; margin:0 0 2px; }
  
  .profile-info p { font-size:0.84rem; margin:0; }
  
  .contact-list { flex-direction:row; flex-wrap:wrap; gap:6px; margin-top:2px; }
  
  .side-nav { flex-direction:row; flex-wrap:wrap; justify-content:flex-end; gap:6px; flex:1 1 auto; }
  
  .side-nav .nav-link {
    border: 0;
    padding: 6px 12px;
    font-size: 0.9rem;
  }
  
  .side-nav .nav-link.active {
    background: transparent;
    text-decoration: underline;
    text-underline-offset: 4px;
  }
  
  /* keep top padding driven by --header-offset above; avoid overriding with shorthand */
  /* .content padding already set */
  
  .timeline::before {
    right: 15px;
  }
  
  .timeline-item { padding-right:40px; }
  
  .timeline-content { margin-right:40px; }
  
  .timeline-marker {
    right: 0;
  }
  
  .resume-download {
    margin-top: 8px;
  }
  
  .side-social {
    justify-content: flex-start;
  }
}

@media (max-width: 768px) {
  .sidebar { padding:12px 16px; }
  
  /* Make header compact grid: avatar left, name/contact right */
  .brand { display:grid; grid-template-columns: auto 1fr; column-gap:10px; row-gap:4px; align-items:center; }
  .brand .avatar-block { grid-column:1/2; grid-row:1/3; justify-self:start; }
  .avatar-block .avatar { width: 80px; height: 80px; }
  
  .profile-info { align-items:flex-start; }
  
  .profile-info h1 { font-size: 1.05rem; text-align: left; }
  
  .profile-info p { font-size: 0.88rem; text-align: left; }
  
  .contact-list { justify-content: flex-start; align-items: center; gap: 8px; }
  
  .contact-item {
    font-size: 0.82rem;
  }
  
  .section h2 {
    font-size: 1.5rem;
  }
  
  .timeline-content h3 {
    font-size: 1.05rem;
  }
  
  .timeline-content .company {
    font-size: 0.92rem;
  }
  
  .timeline-content { padding: 18px 20px; margin-right: 30px; }
  
  .timeline-item { padding-right: 36px; margin-bottom: 16px; }
  
  .timeline::before { right: 12px; }
  
  .dark-mode-toggle {
    width: 40px;
    height: 40px;
    top: 15px;
    right: 15px;
    font-size: 1rem;
  }
}

@media (max-width: 480px) {
  .sidebar { padding: 10px 12px; }
  
  .brand {
    display:grid; 
    grid-template-columns:auto 1fr; 
    column-gap:8px; 
    row-gap:2px; 
    align-items:center; 
  }
  
  .avatar-block .avatar { width: 76px; height: 76px; }
  
  .profile-info h1 {
    font-size: 1rem;
  }
  
  .profile-info p {
    font-size: 0.82rem;
  }
  
  .contact-list {
    flex-direction: column;
    gap: 6px;
  }
  
  .contact-item {
    font-size: 0.78rem;
  }
  
  .side-nav {
    gap: 6px;
  }
  
  .side-nav .nav-link {
    padding: 5px 10px;
    font-size: 0.82rem;
  }
  
  .content { padding: 16px 5vw 32px; }
  
  .section {
    margin-bottom: 40px;
  }
  
  .section h2 {
    font-size: 1.25rem;
    margin-bottom: 12px;
  }
  
  .timeline {
    margin-top: 12px;
  }
  
  .timeline::before {
    display: none;
  }
  
  .timeline-item {
    padding-right: 0;
    margin-bottom: 14px;
  }
  
  .timeline-marker {
    display: none;
  }
  
  .timeline-date {
    display: block;
    position: static;
    writing-mode: horizontal-tb;
    transform: none;
    text-align: left;
    font-size: 0.75rem;
    margin-bottom: 8px;
    color: var(--primary-600);
  }
  
  .timeline-content {
    margin-right: 0;
    padding: 14px 16px;
  }
  
  .timeline-content h3 {
    font-size: 0.98rem;
  }
  
  .timeline-content .company {
    font-size: 0.88rem;
    margin-bottom: 12px;
  }
  
  .timeline-content h5 {
    font-size: 0.88rem;
    margin-bottom: 8px;
  }
  
  .timeline-content li {
    font-size: 0.82rem;
    line-height: 1.5;
    margin-bottom: 5px;
  }
  
  .timeline-content .project-section {
    margin-bottom: 14px;
  }
  
  .chip-list {
    gap: 7px;
  }
  
  .chip-list li {
    font-size: 0.78rem;
    padding: 5px 9px;
  }
  
  .edu-item {
    padding: 12px 14px;
  }
  
  .edu-item h3 {
    font-size: 0.92rem;
  }
  
  .edu-item p,
  .edu-item .duration {
    font-size: 0.82rem;
  }
  
  .resume-download .btn {
    font-size: 0.85rem;
    padding: 8px 12px;
  }
  
  .dark-mode-toggle {
    width: 36px;
    height: 36px;
    top: 10px;
    right: 10px;
    font-size: 0.9rem;
  }
  
  .side-social a {
    font-size: 1.1rem;
  }
}
/* (Legacy contact/footer styles removed) */